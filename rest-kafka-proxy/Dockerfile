FROM openjdk:19-jdk-alpine

ARG BASE_URL
ARG BASE_PORT
ARG ENDPOINT
ARG KAFKA_PROXY_ENABLE
ARG TOPIC_NAME
ARG KAFKA_BOOTSTRAP_SERVERS
ARG JAR_FILE=target/*.jar

ENV BASE_URL ${BASE_URL}
ENV BASE_PORT ${BASE_PORT}
ENV ENDPOINT ${ENDPOINT}
ENV KAFKA_PROXY_ENABLE ${KAFKA_PROXY_ENABLE}
ENV TOPIC_NAME ${TOPIC_NAME}
ENV KAFKA_BOOTSTRAP_SERVERS ${KAFKA_BOOTSTRAP_SERVERS}

COPY ${JAR_FILE} rest-kafka-proxy.jar
ENTRYPOINT ["java", "-jar", "/rest-kafka-proxy.jar"]